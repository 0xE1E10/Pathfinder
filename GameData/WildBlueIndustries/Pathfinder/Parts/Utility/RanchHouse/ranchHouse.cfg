PART
{
	name = wbiRanchHouse
	module = Part
	author = Angel-125

	MODEL
	{
		model = WildBlueIndustries/Pathfinder/Parts/Utility/RanchHouse/RanchHouse
	}
	rescaleFactor = 1

	node_attach = 0, 0, 0, 0, -1, 0, 1
	node_stack_bottom = 0, 0, 0, 0, -1, 0, 1
	node_stack_top = 0, 0.8288187, 0, 0, 1, 0, 1

	NODE
	{
		name = Node1
		transform = node1
	}

	NODE
	{
		name = Node2
		transform = node2
	}

	NODE
	{
		name = Node3
		transform = node3
	}

	NODE
	{
		name = Node4
		transform = node4
	}

	NODE
	{
		name = Node5
		transform = node5
	}


	NODE
	{
		name = Node6
		transform = node6
	}


	NODE
	{
		name = Node7
		transform = node7
	}

	NODE
	{
		name = Node8
		transform = node8
	}

	TechRequired = composites
	entryCost = 3800
	cost = 800
	category = Payload
	subcategory = 0
	title = Ranch House
	manufacturer = Wild Blue Industries
	description = The Ranch House is more than just a large community center. It not only has a large greenhouse, it also provides production bonuses to all converters and drills on the base. Even better, it generates science data that can be processed in labs, used to improve the chances of finding a GoldStrike node while prospecting, and used to calculate launch trajectories for Pipeline mass drivers. The more kerbals residing in the Ranch House, the greater the data produced.

	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,1,1,1,1

	// --- standard part parameters ---
	mass = 0.1
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	crashTolerance = 7
	maxTemp = 900
	breakingForce = 50
	breakingTorque = 50
	bulkheadProfiles = size1, srf
	stackSymmetry = 7
	CrewCapacity = 1

	INTERNAL
	{
		name = mk1PodCockpit
	}

	MODULE:NEEDS[KIS]
	{
		name = ModuleKISItemEvaTweaker
		volumeOverride = 1100
		editorItemsCategory = false
		carriable = true
		equipMode = part
		equipSlot = jetpack
		equipMeshName = jetpack_base01
		equipBoneName = bn_jetpack01
		equipPos = (0,-0.2,-0.45)
		equipDir = (0,0,0)
		runSpeed = 0.8
		allowPartAttach = 1
	}

	MODULE:NEEDS[KAS]
	{
		name = KASModulePort
		attachNode = top
		nodeType = kasplug
		breakForce = 30
		nodeTransformName = plugPort1
	}

	MODULE:NEEDS[KAS]
	{
		name = KASModuleStrut 
		nodeTransform = plugPort
		type = PipeSize1
		maxLenght = 50
		maxAngle = 100
		breakForce = 600
		allowDock = true
		allowPumpFuel = true
		hasCollider = false
		tubeScale = 0.15
		jointScale = 0.15
		textureTiling = 1
		tubeSrcType = Joined
		tubeTgtType = Joined
		evaStrutPos = (0.05, 0.059, -0.21)
		evaStrutRot = (190.0, 0.0, 0.0)
		tubeTexPath = KAS/Textures/pipe
	}

	MODULE
	{
		name = ModuleCommand
		minimumCrew = 0	
	}

	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = INTERNAL
		packetInterval = 1.0
		packetSize = 2
		packetResourceCost = 12.0
		requiredResource = ElectricCharge
		antennaPower = 5000
		optimumRange = 2500
		packetFloor = .1
		packetCeiling = 5
	}

	MODULE
	{
		name = WBIEfficiencyBonus

		//This is added to the mulitplier of all the bonus efficiencies.
		//May not look like much but this effectively doubles productivity.
		bonusValue = 1.1

		//You only get the full bonus when you fully staff the part.
		requiresFullCrew = true
	}

	MODULE
	{
		name = WBIGoldStrikeBonus

		//How many Mits does it take to gain the bonus value?
		dataCostPerBonus = 25

		//Bonus value to add to each Gold Strike prospecting attempt.
		//Formula: (prospecting data accumulated / dataCostPerBonus) * bonusValue
		bonusValue = 1

		//If true, then the module must be fully staffed. If not fully staffed,
		//Then the bonus to Gold Strike is a fraction of the total.
		//Example: The module is 50% fully occupied, so multiply the bonus by 0.5
		requiresFullCrew = true
	}

	MODULE
	{
		name = WBIScienceDataGenerator
		debugMode = false

		ConverterName = Science Data Generator
		StartActionName = Start Generating Data
		StopActionName = Stop Generating Data
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ScienceSkill
		GeneratesHeat = false
		hoursPerCycle = 6
		minimumSuccess = 20
		criticalSuccess = 95
		criticalFail = 5

		dataPerCycle = 60
		criticalSuccessMultiplier = 1.1
		requiresFullCrew = true

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 5
		}

		INPUT_RESOURCE
		{
			ResourceName = ResearchKits
			Ratio = 0.00027777
		}

		OUTPUT_RESOURCE
		{
			ResourceName = LabTime
			Ratio = 0.00027777
			DumpExcess = true
		}
	}

	MODULE
	{
		name = ModuleQualityControl
		quality = 50
		mtbf = 2556
		showGui = false
	}

	RESOURCE
	{
		name = ResearchKits
		amount = 600
		maxAmount = 600
	}
}

@PART[KIS_ContainerMount1]:NEEDS[KIS]
{
	@MODULE[ModuleKISPartMount]
	{
		@MOUNT
		{
			allowedPartName = wbiRanchHouse
		}
	}
}